{"version":3,"file":"static/webpack/static\\development\\pages\\projects.js.84a48c146200881109dd.hot-update.js","sources":["webpack:///./util/projectData.ts"],"sourcesContent":["import { Project } from '../interfaces'\r\nimport projects from './projects.json'\r\nimport 'isomorphic-unfetch'\r\n\r\n\r\n/** Static project data. */\r\nexport const dataArray: Array<Project> = projects;\r\n/**\r\n * Calls a mock API which finds a project by SLUG from the list above.\r\n *\r\n * Throws an error if not found.\r\n */\r\nexport function findData(slug: string) {\r\n    const selected = dataArray.find(data => data.slug === slug)\r\n\r\n    if (!selected) {\r\n        throw new Error('Cannot find project')\r\n    }\r\n\r\n    return selected\r\n}\r\n\r\nexport async function getMarkdown(slug: string): Promise<string> {\r\n\r\n    return new Promise<string>((resolve, reject) => {\r\n        const selected = dataArray.find(data => data.slug === slug)\r\n        if (!selected) {\r\n            reject(new Error(\"No project matches the slug\"));\r\n        } else {\r\n            const response = fetch(selected.markdownUrl);\r\n            response.then(\r\n                value => value.text\r\n            ).catch(\r\n                err => reject(new Error(err))\r\n            ).then().catch;\r\n        }\r\n\r\n    })\r\n\r\n\r\n\r\n\r\n\r\n    /*     const selected = dataArray.find(data => data.slug === slug)\r\n        if(!selected){\r\n            return Promise.reject(new Error(\"No project matches the slug\")); \r\n        }\r\n        const response = await fetch(selected.markdownUrl);\r\n        if(!response.ok){\r\n            return Promise.reject(new Error(response.statusText)); \r\n        }    \r\n        console.log(response.text)\r\n        return new Promise(response.text); */\r\n}\r\n\r\n/** Calls a mock API which returns the above array to simulate \"get all\". */\r\nexport function findAll() {\r\n    // Throw an error, just for example.\r\n    if (!Array.isArray(dataArray)) {\r\n        throw new Error('Cannot find projects')\r\n    }\r\n\r\n    return dataArray\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;AACA;AAGA;AACA;AAAA;AACA;;;;;;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAiCA;AACA;;;;AAlCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAEA;AAEA;AACA;AAhBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}